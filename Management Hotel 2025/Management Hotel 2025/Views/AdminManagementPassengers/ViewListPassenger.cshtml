@model IEnumerable<Management_Hotel_2025.Modules.AdminMPassengers.MPassengerModels.PassengersInfo>

@{
    Layout = "~/Views/Shared/AdminSidebar.cshtml";
    ViewBag.Title = "Danh sách khách hàng";
    var stt = 1;
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" />
<h3 class="mb-4 text-center">Danh sách khách hàng của TrungDucLuxury Hotel</h3>
<div class="container-fluid mt-4">
    <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle">
            <thead class="table-dark">
                <tr>
                    <th scope="col">STT</th>
                    <th scope="col">Họ và Tên</th>
                    <th scope="col">Email</th>
                    <th scope="col">Số điện thoại</th>
                    <th scope="col">Quốc tịch</th>
                    <th scope="col">Số lần lưu trú</th>
                    <th scope="col">Hành động</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var customer in Model)
                {
                    <tr>
                        <td>@(stt++)</td>
                        <td>@customer.Name</td>
                        <td>@customer.Email</td>
                        <td>@customer.PhoneNumber</td>
                        <td>@customer.Nationality</td>
                        <td>@customer.TimesVisited</td>
                        <td class="text-center">
                            <button class="btn btn-info btn-sm mx-1">Lịch Sử</button>
                            <a asp-action="GetPassengersInfo" asp-controller="AdminManagementPassengers" asp-route-codePassenger="@customer.PersonalCode" class="btn btn-primary btn-sm mx-1">Thông Tin</a>
                            <button class="btn btn-warning btn-sm mx-1">Hóa Đơn</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- Modal Template -->
<div class="modal fade" id="customerModal" tabindex="-1" aria-labelledby="customerModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="customerModalLabel">Thông tin khách hàng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            <div class="modal-body" id="customerModalBody">
                <!-- Details will be loaded here -->
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

<style>
    /* ------------------------------------------- */
    /* 🌟 5-Star Luxury Theme Styling 🌟 */
    /* ------------------------------------------- */

    /* Custom Colors for Luxury Theme */
    :root {
        --luxury-dark: #1e3a5f; /* Deep Navy Blue for primary dark elements */
        --luxury-gold: #b8860b; /* Medium Gold/Brass for accents */
        --luxury-light: #f4f6f9; /* Off-White/Light Gray for backgrounds */
        --luxury-hover: #e6f7ff; /* Light Blue for subtle hover effect */
        --font-primary: 'Georgia', 'Times New Roman', serif; /* Classic, luxurious font */
    }

    /* Container */
    .container-fluid {
        padding: 30px 40px; /* Increased padding */
        width: 100%;
        background-color: var(--luxury-light); /* Light background for the page content */
    }

    /* --- 1. Header Styling (Tiêu đề) --- */
    .mb-4.text-center {
        font-family: var(--font-primary);
        color: var(--luxury-dark);
        font-size: 2.5rem; /* Larger font size */
        font-weight: 700;
        margin-bottom: 30px !important;
        letter-spacing: 1px; /* Subtle spacing for a premium look */
        /* Thin line below the title for separation and elegance */
        padding-bottom: 10px;
        border-bottom: 2px solid rgba(184, 134, 11, 0.4); /* Gold accent line */
    }

    /* --- 2. Table Styling (Bảng) --- */
    table {
        width: 100%;
        border-collapse: collapse;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1); /* Softer, deeper shadow */
        border-radius: 12px;
        overflow: hidden;
        background-color: #ffffff;
    }

    /* Table Header (Tiêu đề cột) */
    thead.table-dark {
        background-color: var(--luxury-dark) !important; /* Deep Navy Blue */
        color: #fff;
        font-weight: 600;
        letter-spacing: 0.5px;
        position: sticky;
        top: 0;
        z-index: 10;
    }

    table th, table td {
        padding: 15px 20px; /* Increased padding for more space */
        text-align: center;
        vertical-align: middle;
        border: 1px solid #e0e0e0; /* Lighter border */
    }

    /* Table Body Rows */
    tbody tr {
        font-family: 'Arial', sans-serif;
        color: #333;
    }

        tbody tr:nth-child(even) {
            background-color: #fcfcfc; /* Very light, subtle stripe */
        }

        tbody tr:hover {
            background-color: var(--luxury-hover) !important; /* Gentle hover effect */
            transform: none; /* Remove aggressive scale */
            box-shadow: 0 0 10px rgba(0,0,0,0.08); /* Subtle shadow on hover */
            transition: background-color 0.3s, box-shadow 0.3s;
        }

    /* --- 3. Buttons Styling (Hành động) --- */
    .btn {
        min-width: 100px;
        font-weight: 600;
        border-radius: 6px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* Nút Lịch Sử (History) - Info/Default */
    .btn-info {
        background-color: #9cb5cf; /* Muted Blue/Silver tone */
        border: none;
        color: var(--luxury-dark);
    }

        .btn-info:hover {
            background-color: #829ebb;
            color: #fff;
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

    /* Nút Thông Tin (Details) - Primary/Focus */
    .btn-primary {
        background-color: var(--luxury-dark); /* Deep Navy Blue */
        border: 1px solid var(--luxury-dark);
        color: #fff;
    }

        .btn-primary:hover {
            background-color: #0b5ed7; /* Slightly brighter blue on hover for contrast */
            border-color: #0b5ed7;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

    /* Nút Hóa Đơn (Invoice) - Warning/Accent */
    .btn-warning {
        background-color: var(--luxury-gold); /* Gold/Accent Color */
        border: 1px solid var(--luxury-gold);
        color: var(--luxury-dark); /* Dark text on gold */
    }

        .btn-warning:hover {
            background-color: #a37b0a; /* Darker gold on hover */
            border-color: #a37b0a;
            color: #fff;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

    /* --- 4. Modal Styling (Cửa sổ chi tiết) --- */
    .modal-content {
        border-radius: 15px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    }

    .modal-header {
        background-color: var(--luxury-dark);
        color: #fff;
        border-top-left-radius: 15px;
        border-top-right-radius: 15px;
        padding: 20px 25px;
    }

    .modal-title {
        font-family: var(--font-primary);
        font-weight: 700;
        font-size: 1.5rem;
    }

    .btn-close {
        filter: invert(1); /* Makes the close button white */
    }

    /* --- Responsive table --- */
    @@media (max-width: 992px) {
        .container-fluid

    {
        padding: 15px 20px;
    }

    table th, table td {
        font-size: 14px;
        padding: 10px;
    }

    .btn {
        min-width: 60px;
        font-size: 11px;
        padding: 6px 10px;
        margin-right: 0 !important; /* Remove mx-1 on small screen */
        margin-left: 0 !important;
        margin: 2px;
    }

    td.text-center {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
    }

    }
</style>